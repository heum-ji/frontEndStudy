<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>배열실습</title>
  <style>
    .divs {
      width: 100px;
      height: 100px;
      float: left;
      border: 1px solid black;
    }

    #red {
      background-color: red;
    }

    #blue {
      background-color: blue;
    }

    #green {
      background-color: green;
    }

    #pink {
      background-color: pink;
    }

    #yellow {
      background-color: yellow;
    }
  </style>

  <script>
    function func1() {
      // var s1 = document.getElementById("s1");
      // var s2 = document.getElementById("s2");
      // var s3 = document.getElementById("s3");
      // var arr1 = s1.innerHTML.split(",");
      // var arr2 = arr1.concat(s2.innerHTML.split(","), s3.innerHTML.split(","));

      // for (var i = 0; i < arr2.length; i++) {
      //   if (input1.value == arr2[i]) {
      //     alert(i + 1 + "번째 존재합니다.");
      //     break;
      //   } else if (i == 6) {
      //     alert("존재하지 않아");
      //   }
      // }

      var spans = document.getElementsByTagName("span");
      var arr = new Array();

      for (var i = 0; i < spans.length; i++) {
        var tmpArr = spans[i].innerHTML.split(",");
        arr = arr.concat(tmpArr);
      }

      var input1 = document.getElementById("input1");
      var data = input1.value;
      var idx = arr.indexOf(data);

      if (idx == -1) {
        alert("존재하지 않습니다.");
      } else {
        alert(idx + 1 + "번째 위치합니다.");
      }
    }

    var arrInput = new Array();

    function func2() {
      var input2 = document.getElementById("input2");

      arrInput.push(input2.value); // 기억하기
      input2.value = ""; // 화면 초기화
    }

    function func3() {
      var result = document.getElementById("result");
      var test = arrInput.join("/");

      result.innerHTML = test;

      arrInput = new Array();
    }
    // 1. outerHTML 사용
    //   var squareArr = new Array();

    //   function exam3(square) {

    //     squareArr.push(square.outerHTML); // 기억하기
    //     square.style.display = "none"; // 지우기

    //     if (squareArr.length == 5) {
    //  var divWrap = document.getElementById("divWrap");
    //       divWrap.innerHTML = squareArr.join("");
    //       squareArr = new Array();
    //     }
    //   }

    // // 2. color 및 display 속성 추가 // 객체 사용
    // var squareColor = new Array();

    // function exam3(square) {
    //   squareColor.push(square.id); // 색깔저장
    //   square.style.display = "none"; // 지우기

    //   //네모 다 지웠을 때
    //   if (squareColor.length == 5) {
    //     var divs = document.getElementsByClassName("divs");

    //     for (var i = 0; i < squareColor.length; i++) {
    //       divs[i].id = squareColor[i]; // 불러오기
    //       divs[i].style.display = "block"; // 출력
    //     }
    //     squareColor = new Array();
    //     squareColor.splice;
    //   }
    // }

    // 수업 풀이
    var divs = new Array();

    function exam3(obj) {
      var html = obj.outerHTML;
      divs.push(html);
      obj.style.display = "none";

      if (divs.length == 5) {
        var wrap = document.getElementById("divWrap");
        wrap.innerHTML = divs.join("");
        divs = new Array();
      }
    }
  </script>
</head>

<body>
  <h1>배열실습문제</h1>
  <hr />

  <h2>
    문자열 입력 후 조회버튼을 누르는 경우 보기에 있는 데이터들을 하나의 배열로 저장하여 몇번째에 존재하는지
    알려주어라.(alert사용)<br />
    단, 존재하지 않는경우 존재하지 않는다는 메세지 출력
  </h2>

  <fieldset>
    <legend>보기</legend>
    <span id="s1">사과,바나나,당근</span><br />
    <span id="s2">고양이,강아지</span><br />
    <span id="s3">콜라,사이다</span>
  </fieldset>
  입력 : <input type="text" id="input1" />
  <button onclick="func1();">조회</button>
  <hr>

  <h2>
    다음 입력창에 문자열을 입력하면 계속저장하고, 출력버튼 클릭 시 입력했던 모든 문자열이 출력되도록 만들어라.<br />
    입력 시 input 값은 자동으로 비워지게하며, 출력하고나면 다시 새롭게 처음부터 저장할 수 있도록 설정
  </h2>
  입력 : <input type="text" id="input2" />
  <button onclick="func2();">입력</button>
  <button onclick="func3();">출력</button>
  <p id="result"></p>
  <hr>

  <h2>
    ★심화문제 - 다음 보기의 그림을 클릭하면 그림이 사라지고 다섯개 모두 사라지면 클릭한 순서대로 다시 나오게 하여라.
  </h2>
  <p>hint. 개발자도구 및 outerHTML 활용</p>
  <fieldset>
    <legend>보기</legend>
    <div id="divWrap">
      <div class="divs" id="red" onclick="exam3(this)"></div>
      <div class="divs" id="blue" onclick="exam3(this)"></div>
      <div class="divs" id="green" onclick="exam3(this)"></div>
      <div class="divs" id="pink" onclick="exam3(this)"></div>
      <div class="divs" id="yellow" onclick="exam3(this)"></div>
    </div>
  </fieldset>
</body>

</html>